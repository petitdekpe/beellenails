{% extends 'base.html.twig' %}

{% block title %}Prendre RDV{% endblock %}
{% block stylesheets %}
<!--style>
    #calendrier{
        width: 50%;
        margin: auto;
    }
</style-->
{% endblock %}


{% block body %}

<div class="max-w-sm mx-auto mt-10">
  <!--div class="col-span-2" id="calendrier"></div-->
  
  <div class="mr-10">
    {{ form_start(form) }}
      {{ form_row(form.prestation) }}
      {{ form_label(form.day, 'Date du rendez-vous') }}
      {{ form_widget(form.day) | replace({'type="text"': 'type="text" datepicker datepicker-autohide'}) | raw }}
      {{ form_row(form.creneau) }}
      {{ form_row(form.image) }}
      <button type="submit" class="btn btn-primary">Enregistrer</button>
    {{ form_end(form) }}
  </div>
</div>
{% endblock %}

{%  block javascripts %} 
    <script>
      window.onload = () => {
        let calendarElt = document.querySelector("#calendrier")
        let calendar = new FullCalendar.Calendar(calendarElt, {
            initialView: 'timeGridWeek',
            locale: 'fr',
            timeZone: 'Africa/Porto-Novo',

            headerToolbar: {
            left: 'title',
            center: 'timeGridWeek,timeGridDay',
            right: 'prev,next'
            },
            
            buttonText: {
            today: 'Aujourd\'hui',
            month: 'Mois',
            week: 'Semaine',
            day: 'Jour'
            },

        })
       // Événement après le rendu pour ajuster les titres de l'entête
    calendar.render();
      }
      

    </script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/flowbite/2.2.0/datepicker.min.js"></script> 

{% endblock %}