{% extends 'base.html.twig' %}

{% block title %}Redirection vers le paiement...{% endblock %}

{% block body %}
<div class="min-h-screen bg-gray-50 flex items-center justify-center">
    <div class="max-w-md mx-auto bg-white rounded-xl shadow-lg p-8 text-center">
        <div class="mb-6">
            <div class="animate-spin rounded-full h-12 w-12 border-b-2 border-pink-600 mx-auto"></div>
        </div>
        
        <h1 class="text-2xl font-bold text-gray-900 mb-4">
            Redirection vers le paiement...
        </h1>
        
        <p class="text-gray-600 mb-6">
            Vous allez être redirigé(e) vers la plateforme de paiement sécurisée.
        </p>

        {% if payment %}
            <div class="bg-gray-50 rounded-lg p-4 mb-6 text-left">
                <h3 class="font-semibold text-gray-900 mb-2">Détails du paiement:</h3>
                <div class="space-y-1 text-sm text-gray-600">
                    <div>Montant: <span class="font-semibold">{{ payment.amount|number_format(0, ',', ' ') }} {{ payment.currency }}</span></div>
                    {% if payment.description %}
                        <div>Description: {{ payment.description }}</div>
                    {% endif %}
                    <div>Référence: {{ payment.reference }}</div>
                </div>
            </div>
        {% endif %}

        <div class="space-y-3">
            <a href="{{ redirect_url }}" 
               class="inline-block w-full bg-pink-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-pink-700 transition-colors">
                Procéder au paiement
            </a>
            
            <p class="text-xs text-gray-500">
                Si vous n'êtes pas redirigé automatiquement, cliquez sur le bouton ci-dessus.
            </p>
        </div>
    </div>
</div>

<script>
    // Auto-redirect after 3 seconds
    setTimeout(function() {
        window.location.href = '{{ redirect_url }}';
    }, 3000);
</script>
{% endblock %}